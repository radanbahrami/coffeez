{% extends "coffeez/base.html" %}
{% load static %}

{% block title %}Verify your email{% endblock %}

{% block content %}
<h1 class="join-login-title" style="text-align:center">Verify your email</h1>
<p style="text-align:center; color: var(--text-muted); max-width: 560px; margin:0 auto 1rem auto;">
  We sent a 6-digit code to your email. Enter it below to continue. Codes expire in 15 minutes.
</p>
<p style="text-align:center; color: var(--warning); max-width: 560px; margin:0 auto 1rem auto;">
  If you don't see the email, please check your spam or trash folders.
</p>

{% if messages %}
  <div style="max-width:420px; margin: 0 auto 1rem auto;">
    {% for message in messages %}
      {% if message.tags == 'error' %}
        <p style="color: var(--error); text-align:center;">{{ message }}</p>
      {% else %}
        <p style="color: var(--success); text-align:center;">{{ message }}</p>
      {% endif %}
    {% endfor %}
  </div>
{% endif %}

<form method="post" style="display:flex; flex-direction:column; align-items:center; gap:0.75rem;">
  {% csrf_token %}
  <input name="code" inputmode="numeric" pattern="[0-9]{6}" maxlength="6" minlength="6" placeholder="123456" title="Enter the 6-digit code sent to your email" required style="letter-spacing: 0.4em; text-align:center; padding: 0.6rem; width: 12rem;" />
  <button type="submit" style="width: 12rem;">Verify</button>
</form>

<form method="post" style="margin-top: 1rem; text-align:center;">
  {% csrf_token %}
  <input type="hidden" name="action" value="resend" />
  <button type="submit" style="background:none; border:none; color: var(--accent); text-decoration: underline; cursor: pointer;">Resend code</button>
</form>
{% endblock %}
